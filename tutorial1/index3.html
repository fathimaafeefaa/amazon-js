<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- <h2>Rock Paper Scissor</h2> -->
    <div>
      <button onclick="playGame('rock')">Rock</button>
      <button onclick="playGame('paper')">Paper</button>
      <button onclick="playGame('scissor')">Scissor</button>
      <p class="result_btn"></p>
      <p class="move"></p>
      <p class="js_result"></p>
      <button
        onclick="score.wins=0;
      score.lose=0;
      score.tie=0;  
      updateScore()"
      >
        reset
      </button>
      <button class="js_autoplay">Auto-play</button>
    </div>
    <script>
      let result = "";
      let score = JSON.parse(localStorage.getItem("score"));
      if (!score) {
        score = { wins: 0, lose: 0, tie: 0 };
      }
      updateScore();

      document.body.addEventListener('keydown' ,(event)=>{
        if(event.key ==='r')
      {
        playGame('rock')
      }
      else(event.key==='p')
      {
        playGame('paper')
      }
      }
    )

      function playGame(playerMove) {
        const computerMove = pickComputerMove();
        let player;
        if (playerMove === "rock") {
          if (computerMove === "rock") {
            result = "tie";
          } else if (computerMove === "paper") {
            result = "you lose";
          } else if (computerMove === "scissor") {
            result = "you won";
          }
        } else if (playerMove === "paper") {
          if (computerMove === "rock") {
            result = "you lose";
          } else if (computerMove === "Paper") {
            result = "tie";
          } else if (computerMove === "scissor") {
            result = "you won";
          }
        } else if (playerMove === "scissor") {
          if (computerMove === "rock") {
            result = "you lose";
          } else if (computerMove === "Paper") {
            result = "you won";
          } else if (computerMove === "scissor") {
            result = "tie";
          }
        }
        updateScore();

        document.querySelector(".js_result").innerHTML = result;
        document.querySelector(".move").innerHTML =
          `you picked ${playerMove} computer picked ${computerMove}`;

        if (result === "you won") {
          score.wins += 1;
        } else if (result === "you lose") {
          score.lose += 1;
        } else if (result === "tie") {
          score.tie += 1;
        }
        localStorage.setItem("score", JSON.stringify(score));
      }
      function updateScore() {
        document.querySelector(".result_btn").innerHTML = `Wins:${score.wins}
            losses:${score.lose} tie:${score.tie}`;
      }
      function pickComputerMove() {
        const randomNumber = Math.random();
        let computerMove = "";
        if (randomNumber >= 0 && randomNumber < 1 / 3) {
          computerMove = "rock";
        } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
          computerMove = "paper";
        } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
          computerMove = "scissor";
        }
        return computerMove;
      }
      let isAutoPlaying = false;
      let intervalId;
      const autoplaybtn = document.querySelector(".js_autoplay");
      autoplaybtn.addEventListener("click", () => {
        autoPlay();
      });

      function autoPlay() {
        if (!isAutoPlaying) {
          intervalId = setInterval(function () {
            const playerMove = pickComputerMove();
            playGame(playerMove);
          }, 1000);
          isAutoPlaying = true;
          autoplaybtn.innerHTML = "stop Auto play";
          autoplaybtn.style.background = "#dc2626";
        } else {
          clearInterval(intervalId);
          isAutoPlaying = false;
          autoplaybtn.innerHTML = "Auto play";
          autoplaybtn.style.background = "#475569";
        }
      }
    </script>
  </body>
</html>
<style>
  * {
    box-sizing: border-box;
    font-family: Arial, Helvetica, sans-serif;
  }

  body {
    background-color: #0f172a; /* dark blue */
    color: #f8fafc;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
  }

  h2 {
    text-align: start;
    margin-bottom: 20px;
    letter-spacing: 1px;
  }

  div {
    background-color: #020617;
    padding: 25px 30px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6);
    width: 320px;
    text-align: center;
  }

  button {
    background-color: #2563eb;
    color: white;
    border: none;
    padding: 10px 16px;
    margin: 6px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.2s ease;
  }

  button:hover {
    background-color: #1d4ed8;
    transform: scale(1.05);
  }

  button:active {
    transform: scale(0.95);
  }

  .result_btn {
    margin-top: 15px;
    font-weight: bold;
  }

  .js_result {
    margin-top: 10px;
    font-size: 18px;
    font-weight: bold;
    color: #22c55e; /* green */
  }

  .move {
    margin-top: 8px;
    font-size: 14px;
    color: #cbd5f5;
  }

  /* reset + autoplay buttons */
  button:last-child,
  button:nth-last-child(2) {
    background-color: #475569;
  }

  button:last-child:hover,
  button:nth-last-child(2):hover {
    background-color: #334155;
  }
</style>
